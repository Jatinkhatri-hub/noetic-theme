{{ 'section-header.css' |  asset_url |  stylesheet_tag }}

<header class="section-header color-{{ section.settings.color_scheme }} gradient">
 <div class="section-header__bar page-width">
  <button class="navdrawer__open-btn">
    {{ 'icon-hamburger-2.svg' | inline_asset_content }}
  </button>
  
  {%- if request.page_type == 'index' -%}
    <h1 class="header__heading">
  {%- endif -%}
      <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
        {%- if settings.logo != blank -%}
          <div class="header__heading-logo-wrapper">
            {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
            {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
            {% capture sizes %}(min-width: 750px) {{ settings.logo_width }}px, 50vw{% endcapture %}
            {% capture widths %}{{ settings.logo_width }}, {{ settings.logo_width | times: 1.5 | round }}, {{ settings.logo_width | times: 2 }}{% endcapture %}
            {{ settings.logo | image_url: width: 600 | image_tag:
              class: 'header__heading-logo',
              widths: widths,
              height: logo_height,
              width: settings.logo_width,
              alt: logo_alt,
              sizes: sizes,
              preload: true
            }}
          </div>
        {%- else -%}
          <span class="h2">{{ shop.name }}</span>
        {%- endif -%}
      </a>
  {%- if request.page_type == 'index' -%}
    </h1>
  {%- endif -%}
  <a class="navbar__cart-btn" href="{{ routes.cart_url }}">
    
      {{ 'icon-shopping-bag.svg' | inline_asset_content }}
    
  </a>
 </div>

 <div class="nav-drawer__wrapper">
  <div class="nav-drawer__header">
    <img src="{{ section.settings.navdrawer__img |  image_url: width: 120 }}"  class="nav-drawer__img">

    <span class="nav-drawer__close-btn">
      {{'icon-cross.svg' | inline_asset_content}}
    </span>
  </div>
  <div class="nav-drawer__content">
    <h2 class="nav-drawer__title">Shop</h2>
    {% for block in section.blocks %} 
      {%-case block.type-%} 
        {%-when 'product'-%}
          <div>
            <a href="{{ block.settings.product.url }}" class="nav-drawer__product-card">
              <div class="nav-drawer__product-info">
                <h2 class="product-title">{{ block.settings.product.title }}</h2>
                <div class="product__review-wrapper">
                  <div class="product__star-wrapper">
                    {{ 'icon-star-new.svg' | inline_asset_content }}
                    {{ 'icon-star-new.svg' | inline_asset_content }}
                    {{ 'icon-star-new.svg' | inline_asset_content }}
                    {{ 'icon-star-new.svg' | inline_asset_content }}
                    {{ 'icon-star-new.svg' | inline_asset_content }}
                  </div>
                  <span>{{ block.settings.product_review }}</span>
                </div>
              </div>
              <div>
                <img src="{{ block.settings.product.featured_image |  image_url: width: 110 }}" class="nav-drawer__product-img">
              </div>
  
            </a>
            <div class="product__value-points">
              <p><span>{{ 'icon-truch-dd.svg' | inline_asset_content }}</span> Fast, Free Shipping</p>
              <p>
                <span>{{ 'icon-security.svg' | inline_asset_content }}</span>
              </p>
            </div>
          </div>

      {%-endcase-%}
    {% endfor %}

  </div>
 </div>
</header>


{%  schema  %} 
{
  "name": "t:sections.header.name",
  "class": "section-header",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.header.settings.header__1.content"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "color_scheme",
      "id": "menu_color_scheme",
      "label": "t:sections.header.settings.menu_color_scheme.label",
      "default": "scheme-1"
    },
    {
      "type": "image_picker",
      "id": "navdrawer__img",
      "label": "Navdrawer Image"
    }
  ],
  "blocks": [
    {
      "name": "Product Card",
      "type": "product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "text",
          "id": "product_review",
          "label": "Product Review"
        }
      ]
    }
  ]
}
{% endschema %} 