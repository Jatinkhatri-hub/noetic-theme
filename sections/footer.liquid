{{ 'footer.css' |  asset_url |  stylesheet_tag }}
{{ 'component-list-payment.css' | asset_url | stylesheet_tag }}
{{ 'component-list-social.css' | asset_url | stylesheet_tag }}


{%- style -%}
  .footer {
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
  }

  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .footer {
      margin-top: {{ section.settings.margin_top }}px;
    }

    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}


<footer class="footer color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  {%- liquid
    assign has_social_icons = true
    if settings.social_facebook_link == blank and settings.social_instagram_link == blank and settings.social_youtube_link == blank and settings.social_tiktok_link == blank and settings.social_twitter_link == blank and settings.social_pinterest_link == blank and settings.social_snapchat_link == blank and settings.social_tumblr_link == blank and settings.social_vimeo_link == blank
      assign has_social_icons = false
    endif

    if settings.brand_image == blank and settings.brand_headline == blank and settings.brand_description == blank
      assign brand_empty = true
    endif

    if section.blocks.size == 1 and section.blocks[0].type == 'brand_information' and brand_empty and has_social_icons == false and section.settings.newsletter_enable == false and section.settings.enable_follow_on_shop == false
      assign only_empty_brand = true
    endif
  -%}
  <div
  class="footer__wrapper {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
  {% if settings.animations_reveal_on_scroll %}
    data-cascade
  {% endif %}>

  {%- for block in section.blocks -%} 
    {%- case block.type -%} 
      {%- when 'brand_information' -%}
        <div class="footer__brand-info">
          {%- if settings.brand_image != blank -%}
            {%- assign brand_image_height = settings.brand_image_width
              | divided_by: settings.brand_image.aspect_ratio
            -%}
            <div
              class="footer-block__image-wrapper"
              style="max-width: min(100%, {{ settings.brand_image_width }}px);"
            >
              {{
                settings.brand_image
                | image_url: width: 1100
                | image_tag:
                  loading: 'lazy',
                  widths: '50, 100, 150, 200, 300, 400, 550, 800, 1100',
                  height: brand_image_height,
                  width: settings.brand_image_width
              }}
            </div>
          {%- endif -%}
          {%- if settings.brand_headline != blank -%}
            <h2 class="footer-block__heading rte">{{ settings.brand_headline }}</h2>
          {%- endif -%}
          {%- if settings.brand_description != blank -%}
            <div class="footer__brand-description">{{ settings.brand_description }}</div>
          {%- endif -%}
          {%- if block.settings.show_social and has_social_icons -%}
            {%- render 'social-icons', class: 'footer__list-social' -%}
          {%- endif -%}
        </div>
      {%-when 'link_list'-%}
        {%- if block.settings.menu != blank -%} 
        <ul class="footer__menu-list">
          {%- for link in block.settings.menu.links -%} 
            <li>
              <a
                href="{{ link.url }}"
                class="footer__list-item"
              >
                {{ link.title |  escape }}
              </a>
            </li>
          {%- endfor -%}
        </ul>
        {%-endif-%}
    
    {% endcase %}
  {% endfor %}
  {%- if section.settings.show_social and has_social_icons -%}
    {%- render 'social-icons', class: 'footer__list-social' -%}
  {%- endif -%}

  <div class="footer__copyright--wrapper">
    <span class="copyright__content"
      >&copy; {{ 'now' | date: '%Y' }}, {{ "Noetic "  | link_to: routes.root_url -}}
    </span>
    <span class="copyright__content">{{ powered_by_link }}</span>
  </div>
    {%- if section.settings.show_policy -%}
      <ul class="policies list-unstyled">
        {%- for policy in shop.policies -%}
          {%- if policy != blank -%}
            <li>
              <span class="copyright__content"
                ><a href="{{ policy.url }}">{{ policy.title | escape }}</a></
              >
            </li>
          {%- endif -%}
        {%- endfor -%}
      </ul>
    {%- endif -%}
  

  </div>

</footer>

{%  schema  %} 
{
  "name": "t:sections.footer.name",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__2.content",
      "info": "t:sections.footer.settings.header__2.info"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "default": true,
      "label": "t:sections.footer.settings.show_social.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__8.content",
      "info": "t:sections.footer.settings.header__8.info"
    },
    {
      "type": "checkbox",
      "id": "show_policy",
      "default": true,
      "label": "t:sections.footer.settings.show_policy.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.spacing"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.footer.settings.margin_top.label",
      "default": 0
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "t:sections.footer.blocks.link_list.name",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.footer.blocks.link_list.settings.heading.default",
          "label": "t:sections.footer.blocks.link_list.settings.heading.label"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "t:sections.footer.blocks.link_list.settings.menu.label",
          "info": "t:sections.footer.blocks.link_list.settings.menu.info"
        }
      ]
    },
    {
      "type": "brand_information",
      "name": "t:sections.footer.blocks.brand_information.name",
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.footer.blocks.brand_information.settings.paragraph.content"
        },
        {
          "type": "header",
          "content": "t:sections.footer.blocks.brand_information.settings.header__1.content"
        },
        {
          "type": "checkbox",
          "id": "show_social",
          "default": true,
          "label": "t:sections.footer.blocks.brand_information.settings.show_social.label",
          "info": "t:sections.footer.blocks.brand_information.settings.show_social.info"
        }
      ]
    },
  ]
}
{% endschema %}